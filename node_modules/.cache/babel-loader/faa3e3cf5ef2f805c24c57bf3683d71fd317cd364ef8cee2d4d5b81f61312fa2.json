{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\min\\\\Desktop\\\\\\uD1A0\\uD1A0\\\\front\\\\src\\\\Sadari\\\\Canvas.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Canvas = ({\n  imgRefs,\n  inputRefs,\n  players\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    if (!ctx || !imgRefs.current || !inputRefs.current) return;\n\n    // 캔버스 크기 설정\n    const updateCanvasSize = () => {\n      const imgRects = imgRefs.current.map(img => img === null || img === void 0 ? void 0 : img.getBoundingClientRect());\n      const inputRects = inputRefs.current.map(input => input === null || input === void 0 ? void 0 : input.getBoundingClientRect());\n      const canvasWidth = Math.max(...inputRects.map(rect => rect.right)) - Math.min(...imgRects.map(rect => rect.left));\n      const canvasHeight = Math.max(...inputRects.map(rect => rect.bottom)) - Math.min(...imgRects.map(rect => rect.top));\n      canvas.width = canvasWidth;\n      canvas.height = canvasHeight;\n    };\n    updateCanvasSize();\n\n    // 선 그리기\n    const drawLadders = () => {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      ctx.strokeStyle = '#000';\n      ctx.lineWidth = 2;\n      imgRefs.current.forEach((imgRef, index) => {\n        if (imgRef && inputRefs.current[index]) {\n          var _inputRefs$current$in;\n          const imgRect = imgRef.getBoundingClientRect();\n          const inputRect = (_inputRefs$current$in = inputRefs.current[index]) === null || _inputRefs$current$in === void 0 ? void 0 : _inputRefs$current$in.getBoundingClientRect();\n\n          // 상대적 위치 계산\n          const startX = imgRect.right - canvas.getBoundingClientRect().left;\n          const startY = imgRect.bottom - canvas.getBoundingClientRect().top;\n          const endX = inputRect.left - canvas.getBoundingClientRect().left;\n          const endY = inputRect.bottom - canvas.getBoundingClientRect().top;\n          ctx.beginPath();\n          ctx.moveTo(startX, startY);\n          ctx.lineTo(endX, endY);\n          ctx.stroke();\n        }\n      });\n\n      // 플레이어 점 그리기\n      ctx.fillStyle = '#f00';\n      players.forEach((_, index) => {\n        var _imgRefs$current$inde;\n        const imgRect = (_imgRefs$current$inde = imgRefs.current[index]) === null || _imgRefs$current$inde === void 0 ? void 0 : _imgRefs$current$inde.getBoundingClientRect();\n        if (imgRect) {\n          const centerX = imgRect.right - canvas.getBoundingClientRect().left;\n          const centerY = imgRect.bottom - canvas.getBoundingClientRect().top;\n          ctx.beginPath();\n          ctx.arc(centerX, centerY, 10, 0, Math.PI * 2);\n          ctx.fill();\n        }\n      });\n    };\n    drawLadders();\n    window.addEventListener('resize', drawLadders);\n    return () => {\n      window.removeEventListener('resize', drawLadders);\n    };\n  }, [imgRefs, inputRefs, players]);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef,\n    style: {\n      border: '1px solid #000',\n      position: 'absolute',\n      top: 0,\n      left: 0\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n};\n_s(Canvas, \"UJgi7ynoup7eqypjnwyX/s32POg=\");\n_c = Canvas;\nexport default Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["React","useRef","useEffect","jsxDEV","_jsxDEV","Canvas","imgRefs","inputRefs","players","_s","canvasRef","canvas","current","ctx","getContext","updateCanvasSize","imgRects","map","img","getBoundingClientRect","inputRects","input","canvasWidth","Math","max","rect","right","min","left","canvasHeight","bottom","top","width","height","drawLadders","clearRect","strokeStyle","lineWidth","forEach","imgRef","index","_inputRefs$current$in","imgRect","inputRect","startX","startY","endX","endY","beginPath","moveTo","lineTo","stroke","fillStyle","_","_imgRefs$current$inde","centerX","centerY","arc","PI","fill","window","addEventListener","removeEventListener","ref","style","border","position","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/min/Desktop/토토/front/src/Sadari/Canvas.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\r\n\r\n\r\nconst Canvas = ({ imgRefs, inputRefs, players }) => {\r\n    const canvasRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current;\r\n        const ctx = canvas.getContext('2d');\r\n        if (!ctx || !imgRefs.current || !inputRefs.current) return;\r\n\r\n        // 캔버스 크기 설정\r\n        const updateCanvasSize = () => {\r\n            const imgRects = imgRefs.current.map(img => img?.getBoundingClientRect());\r\n            const inputRects = inputRefs.current.map(input => input?.getBoundingClientRect());\r\n\r\n            const canvasWidth = Math.max(...inputRects.map(rect => rect.right)) - Math.min(...imgRects.map(rect => rect.left));\r\n            const canvasHeight = Math.max(...inputRects.map(rect => rect.bottom)) - Math.min(...imgRects.map(rect => rect.top));\r\n\r\n            canvas.width = canvasWidth;\r\n            canvas.height = canvasHeight;\r\n        };\r\n\r\n        updateCanvasSize();\r\n\r\n        // 선 그리기\r\n        const drawLadders = () => {\r\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n            ctx.strokeStyle = '#000';\r\n            ctx.lineWidth = 2;\r\n\r\n            imgRefs.current.forEach((imgRef, index) => {\r\n                if (imgRef && inputRefs.current[index]) {\r\n                    const imgRect = imgRef.getBoundingClientRect();\r\n                    const inputRect = inputRefs.current[index]?.getBoundingClientRect();\r\n\r\n                    // 상대적 위치 계산\r\n                    const startX = imgRect.right - canvas.getBoundingClientRect().left;\r\n                    const startY = imgRect.bottom - canvas.getBoundingClientRect().top;\r\n                    const endX = inputRect.left - canvas.getBoundingClientRect().left;\r\n                    const endY = inputRect.bottom - canvas.getBoundingClientRect().top;\r\n\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(startX, startY);\r\n                    ctx.lineTo(endX, endY);\r\n                    ctx.stroke();\r\n                }\r\n            });\r\n\r\n            // 플레이어 점 그리기\r\n            ctx.fillStyle = '#f00';\r\n            players.forEach((_, index) => {\r\n                const imgRect = imgRefs.current[index]?.getBoundingClientRect();\r\n                if (imgRect) {\r\n                    const centerX = imgRect.right - canvas.getBoundingClientRect().left;\r\n                    const centerY = imgRect.bottom - canvas.getBoundingClientRect().top;\r\n\r\n                    ctx.beginPath();\r\n                    ctx.arc(centerX, centerY, 10, 0, Math.PI * 2);\r\n                    ctx.fill();\r\n                }\r\n            });\r\n        };\r\n\r\n        drawLadders();\r\n        window.addEventListener('resize', drawLadders);\r\n\r\n        return () => {\r\n            window.removeEventListener('resize', drawLadders);\r\n        };\r\n    }, [imgRefs, inputRefs, players]);\r\n\r\n    return (\r\n        <canvas\r\n            ref={canvasRef}\r\n            style={{ border: '1px solid #000', position: 'absolute', top: 0, left: 0 }}\r\n        />\r\n    );\r\n};\r\n\r\nexport default Canvas;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}